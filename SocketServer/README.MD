Если юзер просто закроет телнет, то он не будет удален из StateStorage, я знаю об этом. 
Проблема в том что от клиента не придет увидомление что он отключился, 
и нужно будет в ручную через какой-то период проверять активно еще подключение или нет. (Keep alive?).
Я не стал писать эту фичу, т.к. я думаю что достаточно того что есть для тестового задания.